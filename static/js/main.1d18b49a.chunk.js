(this["webpackJsonptest-vk-app"]=this["webpackJsonptest-vk-app"]||[]).push([[0],{265:function(e,t,n){"use strict";n.r(t);n(178),n(204),n(206),n(207),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246);var c=n(38),r=n(0),s=(n(254),n(83),n(18)),a=n(31),i=n.n(a),o=n(34),u=n.n(o),p=n(59),j=n(41),l=n(9),d=function(e){return e=e.src,Object(l.jsx)("div",{style:{background:"url(".concat(e,") no-repeat 0 0")},className:"icon"})};window.generalTop=null;var b=function(){var e=Object(r.useState)("general-top"),t=Object(j.a)(e,2),n=(t[0],t[1],Object(r.useState)(null)),c=Object(j.a)(n,2),a=(c[0],c[1],Object(r.useState)(!1)),o=Object(j.a)(a,2),b=o[0],h=o[1];function O(){return(O=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://KitKit.pythonanywhere.com?query=get_general_top");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppAddToCommunity");case 2:return t=e.sent,e.next=5,fetch("https://KitKit.pythonanywhere.com?query=add_group&vk_group_id=".concat(t.group_id));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){console.log(e),window.generalTop=e,h(!0)}))}),[b]),b?Object(l.jsx)(s.j,{activeView:"view",children:Object(l.jsx)(s.k,{activePanel:"top",id:"view",children:Object(l.jsxs)(s.h,{id:"top",children:[Object(l.jsx)(s.i,{children:"\u041c\u0430\u043d\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0442\u043e\u0440"}),Object(l.jsx)("div",{className:"center",style:{marginTop:"2em",marginBottom:"2em"},children:Object(l.jsx)(s.d,{className:"groups",children:window.generalTop.map((function(e){return Object(l.jsx)(s.c,{mode:"shadow",children:Object(l.jsxs)(s.g,{className:"group center",children:[Object(l.jsx)(d,{src:e.photo_100}),Object(l.jsxs)("div",{style:{marginLeft:"1em"},children:[Object(l.jsx)("a",{href:"https://vk.com/".concat("group"==e.type?"club":"public").concat(e.id),children:e.name}),Object(l.jsxs)("span",{children:[": ",e.members_count]})]})]})})}))})}),Object(l.jsx)(s.e,{centered:!0,onClick:function(){return m.apply(this,arguments)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u043e"})]})})}):Object(l.jsx)(l.Fragment,{})};i.a.send("VKWebAppInit",{}),Object(c.render)(Object(l.jsx)(s.f,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(s.b,{children:Object(l.jsx)(b,{})})})}),document.getElementById("root"))},83:function(e,t,n){}},[[265,1,2]]]);
//# sourceMappingURL=main.1d18b49a.chunk.js.map