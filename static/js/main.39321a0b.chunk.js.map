{"version":3,"sources":["components/GroupIcon.js","App.js","index.js"],"names":["GroupIcon","src","styles","background","App","useState","topIsLoaded","generalTop","getGeneralTop","a","fetch","response","json","bridge","send","group","group_id","useEffect","activeView","activePanel","id","map","photo_200","href","type","name","members_count","centered","onClick","render","document","getElementById"],"mappings":"qfAAaA,EAAY,SAAAC,GACvB,OACE,qBAAKC,OAAQ,CAAEC,WAAW,GAAD,OAAMF,EAAN,sBCmEdG,MAnDf,WAAgB,IAAD,EAC2BC,mBAAS,eADpC,gCAEeA,mBAAS,OAFxB,gCAGwBA,oBAAS,IAHjC,mBAGLC,EAHK,KAITC,GAJS,KAII,MAJJ,SAUEC,IAVF,2EAUb,4BAAAC,EAAA,sEACsBC,MAAM,2DAD5B,cACKC,EADL,gBAEYA,EAASC,OAFrB,oFAVa,kEAeb,4BAAAH,EAAA,sEACmBI,IAAOC,KAAK,0BAD/B,cACKC,EADL,gBAEKL,MAAM,iEAAD,OAAkEK,EAAMC,WAFlF,4CAfa,sBAoBb,OAdAC,oBAAS,sBAAC,sBAAAR,EAAA,sEACWD,IADX,OACRD,EADQ,kDAEP,CAACD,IAYAA,EAEA,cAAC,IAAD,CAAMY,WAAW,OAAjB,SACD,cAAC,IAAD,CAAMC,YAAY,MAAMC,GAAG,OAA3B,SACE,eAAC,IAAD,CAAOA,GAAG,MAAV,UACD,cAAC,IAAD,sHACA,cAAC,IAAD,UAECb,EAAWc,KAAI,SAAAN,GACb,OACD,eAAC,IAAD,WACC,cAAC,EAAD,CAAWd,IAAMc,EAAMO,YACzB,mBAAGC,KAAI,yBAAoC,QAAdR,EAAMS,KAAiB,OAAS,QAAtD,OAAiET,EAAMK,IAA9E,SAAwFL,EAAMU,OAC5F,+BAAQV,EAAMW,wBAMjB,cAAC,IAAD,CAAYC,UAAW,EAAOC,QAvCrB,2CAuCT,kIAOH,8BClDHf,IAAOC,KAAK,eAAgB,IAE5Be,iBAEC,cAAC,IAAD,UACK,cAAC,IAAD,UACE,cAAC,IAAD,UACJ,cAAC,EAAD,UAKFC,SAASC,eAAe,U","file":"static/js/main.39321a0b.chunk.js","sourcesContent":["export const GroupIcon = src => {\r\n  return (\r\n    <div styles={{ background: `${ src } no-repeat 0 0` }}></div>\r\n  );\t\r\n};\r\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n  Panel,\n  View,\n  Root,\n  PanelHeader,\n  CellButton,\n  CardGrid,\n  Card,\n  Div\n} from \"@vkontakte/vkui\";\n\nimport { GroupIcon } from \"./components/GroupIcon\";\n\nimport bridge from \"@vkontakte/vk-bridge\";\n\n\nfunction App() {\n  const [ activePanel, setActivePanel ] = useState(\"general-top\");\n  const [ token, setToken ] = useState(null);\n  const [ topIsLoaded, setTopStatus] = useState(false);\n  let generalTop = null;\n  \n  useEffect(async () => {\n    generalTop = await getGeneralTop();\n  }, [topIsLoaded]);\n  \n  async function getGeneralTop() {\n\tconst response = await fetch(\"https://KitKit.pythonanywhere.com?query=get_general_top\");\n\treturn await response.json();\n  }\n  \n  async function addGroup() {\n\tconst group = await bridge.send(\"VKWebAppAddToCommunity\");\n\tawait fetch(`https://KitKit.pythonanywhere.com?query=add_group&vk_group_id=${group.group_id}`);\n  }\n  \n  if (topIsLoaded) {\n    return (\n      <Root activeView=\"view\">\n\t    <View activePanel=\"top\" id=\"view\">\n\t      <Panel id=\"top\">\n\t\t    <PanelHeader>Маня автоматизатор</PanelHeader>\n\t\t    <CardGrid>\n\t\t      {\n\t\t\t   \tgeneralTop.map(group => {\n\t\t\t      return (\n\t\t\t\t    <Card>\n\t\t\t\t  \t  <GroupIcon src={ group.photo_200 } />\n\t\t\t\t\t  <a href={ `https://vk.com/${ group.type == \"club\" ? \"club\" : \"page\" }${ group.id }` }>{ group.name }</a>\n\t\t\t\t  \t  <span>{ group.members_count }</span>\n\t\t\t\t    </Card>\n\t\t\t\t  )\n\t\t\t\t})\n\t\t\t  }\n\t\t    </CardGrid>\n\t\t    <CellButton centered={ true } onClick={ addGroup }>Добавить сообщество</CellButton>\n\t\t  </Panel>\n\t    </View>\n\t  </Root>\n    );\n  } else {\n\treturn (\n\t  <></>\n\t);\n  }\n}\n\nexport default App;\n","import { render } from \"react-dom\";\nimport React from \"react\";\nimport \"core-js/features/map\";\nimport \"core-js/features/set\";\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport \"./App.css\";\nimport { ConfigProvider, AdaptivityProvider, AppRoot } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\n\nimport \"./App.css\";\nimport App from \"./App\";\n\n\nbridge.send(\"VKWebAppInit\", {});\n\nrender(\n  (\n\t<ConfigProvider>\n      <AdaptivityProvider>\n        <AppRoot>\n\t\t  <App />\n\t\t</AppRoot>\n\t  </AdaptivityProvider>\n\t</ConfigProvider>\n  ),\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}